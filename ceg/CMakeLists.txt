CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(ceg)

SET(PACKAGE_NAME "IOT Graphical Environment Control" CACHE STRING "Package name" FORCE)
SET(PACKAGE_VERSION "1.0" CACHE STRING "Package version" FORCE)

INCLUDE(FindDoxygen)

FIND_PACKAGE(Qt4 REQUIRED)

IF(QT_QTXML_FOUND AND QT_QTNETWORK_FOUND)

SET(QT_USE_QTNETWORK TRUE)
SET(QT_USE_QTXML TRUE)

# see http://cmake.org/cmake/help/cmake2.6docs.html#module:FindQt4 for a complete list

INCLUDE(${QT_USE_FILE})

INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/includes)

IF(UNIX)
  INCLUDE(FindX11)
  INCLUDE_DIRECTORIES(${X11_INCLUDE_DIR})
  LINK_DIRECTORIES(${X11_LIBRARY_DIRS})

  IF (CMAKE_COMPILER_IS_GNUCXX)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -W -Wall -Wextra")# -Weffc++")
    SET(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -g3")
  ENDIF()
ENDIF()

ADD_SUBDIRECTORY(includes)
ADD_SUBDIRECTORY(src)
ADD_SUBDIRECTORY(config)
ADD_SUBDIRECTORY(resources)
ADD_SUBDIRECTORY(test)

ELSE()

MESSAGE(ERROR "QtXML and QtNetwork not found")

ENDIF()

ADD_SUBDIRECTORY(doc)
